var Divine_Toolkit,dvt_gallery,dvt_gallery_button,dvt_icon_field;jQuery(document).ready(function(){Divine_Toolkit.init_field_datetime(),Divine_Toolkit.init_field_gallery()}),jQuery(document).ajaxSuccess(function(){Divine_Toolkit.init_field_datetime(),Divine_Toolkit.init_field_gallery()}),dvt_icon_field="",dvt_gallery="",dvt_gallery_button="",Divine_Toolkit={init_field_gallery:function(){jQuery(".dvt-ui-gallery-wrap").on("click",".dvt-ui-gallery-button",function(t){return t.preventDefault(),dvt_gallery_button=jQuery(this),dvt_gallery?(dvt_gallery.open(),void 0):(dvt_gallery=wp.media.frames.dvt_gallery=wp.media({title:"Gallery config",button:{text:"Use"},library:{type:"image"},multiple:!0}),dvt_gallery.on("open",function(){var t,e;t=dvt_gallery_button.parents(".dvt-ui-gallery-wrap").find("input.dvt-ui-gallery").val(),""!==t&&(e=dvt_gallery.state().get("selection"),t=t.split(","),jQuery(t).each(function(t,i){var n;n=wp.media.attachment(i),n.fetch(),e.add(n?[n]:[])}))}),dvt_gallery.on("select",function(){var t,e;t=[],e=dvt_gallery.state().get("selection"),e.map(function(e){return e=e.toJSON(),t.push(e.id)}),t.length>0&&(t=t.join(","),dvt_gallery_button.parents(".dvt-ui-gallery-wrap").find("input.dvt-ui-gallery").val(t))}),dvt_gallery.open(),void 0)})},select_icon:function(t,e,i){t.preventDefault(),dvt_icon_field.val(i),window.tb_remove()},open_icons:function(t,e){t.preventDefault(),window.tb_show(e.attr("title"),e.attr("href"),""),dvt_icon_field=e.parent().find(".dvt-icon")},filter_icons:function(t,e){var i,n;return t.preventDefault(),(i=e.val())?(n=new RegExp(i,"i"),jQuery("#dvt-list-icon .dvt-ui-icon-item span").each(function(){jQuery(this).text().search(n)<0?jQuery(this).parents(".dvt-ui-icon-item").hide():jQuery(this).parents(".dvt-ui-icon-item").show()}),void 0):(jQuery("#dvt-list-icon .dvt-ui-icon-item").show(),!1)},remove_icon:function(t,e){t.preventDefault(),e.parent().find(".dvt-icon").val("")},init_field_datetime:function(){jQuery(".dvt-datetime").length>0&&jQuery(".dvt-datetime").each(function(t,e){jQuery(e).datetimepicker({lang:"en",timepicker:jQuery(e).data("timepicker"),datepicker:jQuery(e).data("datepicker"),format:jQuery(e).data("format"),i18n:{en:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"]}}})})}};